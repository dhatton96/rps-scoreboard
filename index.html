<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>RPS Scoreboard</title>
<link rel="apple-touch-icon" href="apple-touch-icon.png">
<link rel="icon" type="image/png" href="apple-touch-icon.png">
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: #001a33;
    color: #fff;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    min-height: 100vh;
    overflow-x: hidden;
    -webkit-tap-highlight-color: transparent;
  }

  /* === TOP BAR === */
  .top-bar {
    background: linear-gradient(180deg, #002244 0%, #001a33 100%);
    border-bottom: 3px solid #c8102e;
    padding: 8px 16px;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 8px;
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 2px;
    color: #8899aa;
  }
  .top-bar .live-dot {
    width: 8px; height: 8px;
    background: #c8102e;
    border-radius: 50%;
    animation: pulse-dot 1.5s ease-in-out infinite;
  }
  @keyframes pulse-dot {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.3; }
  }

  /* === SCOREBOARD === */
  .scoreboard {
    padding: 24px 16px 16px;
  }
  .matchday {
    text-align: center;
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 3px;
    color: #5a7a99;
    margin-bottom: 16px;
  }

  .score-container {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 0;
  }

  .player {
    flex: 1;
    text-align: center;
  }
  .player-name {
    font-size: 22px;
    font-weight: 800;
    text-transform: uppercase;
    letter-spacing: 2px;
    margin-bottom: 4px;
  }
  .player-label {
    font-size: 10px;
    color: #5a7a99;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 12px;
  }

  .score-middle {
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 0 8px;
  }
  .score-num {
    font-size: 72px;
    font-weight: 900;
    line-height: 1;
    font-variant-numeric: tabular-nums;
    text-shadow: 0 0 30px rgba(200, 16, 46, 0.3);
    min-width: 60px;
    text-align: center;
  }
  .score-divider {
    font-size: 40px;
    color: #334455;
    font-weight: 300;
  }

  .add-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 56px;
    height: 56px;
    border-radius: 50%;
    border: 2px solid rgba(255,255,255,0.15);
    background: rgba(255,255,255,0.05);
    color: #fff;
    font-size: 28px;
    font-weight: 300;
    cursor: pointer;
    transition: all 0.2s;
    margin-top: 8px;
    -webkit-user-select: none;
    user-select: none;
  }
  .add-btn:active {
    transform: scale(0.9);
    background: #c8102e;
    border-color: #c8102e;
  }

  /* === BETTING MARKETS === */
  .markets-section {
    padding: 24px 16px;
  }
  .markets-header {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 12px;
  }
  .markets-title {
    font-size: 14px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 2px;
    color: #ffd700;
  }
  .markets-live {
    font-size: 9px;
    background: #c8102e;
    color: #fff;
    padding: 2px 8px;
    border-radius: 2px;
    text-transform: uppercase;
    letter-spacing: 1px;
    font-weight: 700;
  }

  .market-card {
    background: #0d0d0d;
    border-radius: 6px;
    padding: 14px 16px;
    margin-bottom: 8px;
    border-left: 3px solid #ffd700;
  }
  .market-name {
    font-size: 13px;
    color: #ccc;
    margin-bottom: 8px;
  }
  .market-options {
    display: flex;
    gap: 8px;
  }
  .market-option {
    flex: 1;
    background: #1a1a1a;
    border-radius: 4px;
    padding: 10px 8px;
    text-align: center;
    border: 1px solid #333;
  }
  .market-option-label {
    font-size: 10px;
    color: #888;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 4px;
  }
  .market-option-odds {
    font-size: 16px;
    font-weight: 800;
    color: #ffd700;
  }

  /* === GOAL OVERLAY === */
  .goal-overlay {
    position: fixed;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    pointer-events: none;
    opacity: 0;
  }
  .goal-overlay.active {
    animation: goal-flash 1.8s ease-out forwards;
  }
  .goal-text {
    font-size: 80px;
    font-weight: 900;
    text-transform: uppercase;
    letter-spacing: 8px;
    text-shadow:
      0 0 20px rgba(255,215,0,0.8),
      0 0 60px rgba(200,16,46,0.6),
      0 4px 0 #8b0000;
    color: #fff;
    transform: scale(0);
  }
  .goal-overlay.active .goal-text {
    animation: goal-text-in 1.8s ease-out forwards;
  }
  @keyframes goal-flash {
    0% { opacity: 1; background: rgba(200,16,46,0.4); }
    30% { background: rgba(200,16,46,0); }
    100% { opacity: 0; }
  }
  @keyframes goal-text-in {
    0% { transform: scale(0) rotate(-10deg); opacity: 0; }
    15% { transform: scale(1.3) rotate(3deg); opacity: 1; }
    30% { transform: scale(1) rotate(0); }
    70% { transform: scale(1); opacity: 1; }
    100% { transform: scale(1.5); opacity: 0; }
  }

  /* === FIREWORKS CANVAS === */
  #fireworks-canvas {
    position: fixed;
    inset: 0;
    z-index: 999;
    pointer-events: none;
  }

  /* === WAHEY OVERLAY === */
  .wahey-overlay {
    position: fixed;
    bottom: 20%;
    left: 50%;
    transform: translateX(-50%) scale(0);
    z-index: 1001;
    pointer-events: none;
    font-size: 36px;
    font-weight: 900;
    color: #ffd700;
    text-shadow: 0 0 20px rgba(255,215,0,0.5);
    opacity: 0;
    letter-spacing: 4px;
  }
  .wahey-overlay.active {
    animation: wahey-in 1.6s ease-out forwards;
  }
  @keyframes wahey-in {
    0% { transform: translateX(-50%) scale(0) rotate(-5deg); opacity: 0; }
    20% { transform: translateX(-50%) scale(1.2) rotate(3deg); opacity: 1; }
    40% { transform: translateX(-50%) scale(1) rotate(0); }
    70% { opacity: 1; }
    100% { transform: translateX(-50%) scale(1) translateY(-40px); opacity: 0; }
  }

  /* === RESET === */
  .reset-area {
    text-align: center;
    padding: 40px 16px 24px;
  }
  .reset-btn {
    background: none;
    border: 1px solid #1a2a3a;
    color: #334455;
    font-size: 10px;
    padding: 6px 16px;
    border-radius: 3px;
    cursor: pointer;
    text-transform: uppercase;
    letter-spacing: 1px;
    transition: all 0.2s;
  }
  .reset-btn:active {
    color: #c8102e;
    border-color: #c8102e;
  }
</style>
</head>
<body>

<!-- TOP BAR -->
<div class="top-bar">
  <div class="live-dot"></div>
  <span>Live &middot; Rock Paper Scissors</span>
</div>

<!-- SCOREBOARD -->
<div class="scoreboard">
  <div class="matchday">Season 2025/26</div>
  <div class="score-container">
    <div class="player">
      <div class="player-name">Desi</div>
      <div class="player-label">Home</div>
      <button class="add-btn" onclick="addPoint('desi')">+</button>
    </div>
    <div class="score-middle">
      <div class="score-num" id="score-desi">0</div>
      <div class="score-divider">&ndash;</div>
      <div class="score-num" id="score-danny">0</div>
    </div>
    <div class="player">
      <div class="player-name">Danny</div>
      <div class="player-label">Away</div>
      <button class="add-btn" onclick="addPoint('danny')">+</button>
    </div>
  </div>
</div>

<!-- BETTING MARKETS -->
<div class="markets-section">
  <div class="markets-header">
    <span class="markets-title">Live Markets</span>
    <span class="markets-live">In-Play</span>
  </div>

  <div class="market-card" id="market-winner">
    <div class="market-name">Overall Winner</div>
    <div class="market-options">
      <div class="market-option">
        <div class="market-option-label">Desi</div>
        <div class="market-option-odds" id="odds-desi">EVS</div>
      </div>
      <div class="market-option">
        <div class="market-option-label">Draw</div>
        <div class="market-option-odds" id="odds-draw">3/1</div>
      </div>
      <div class="market-option">
        <div class="market-option-label">Danny</div>
        <div class="market-option-odds" id="odds-danny">EVS</div>
      </div>
    </div>
  </div>

  <div class="market-card">
    <div class="market-name">Danny to win next 3</div>
    <div class="market-options">
      <div class="market-option">
        <div class="market-option-label">Yes</div>
        <div class="market-option-odds">5/1</div>
      </div>
      <div class="market-option">
        <div class="market-option-label">No</div>
        <div class="market-option-odds">1/8</div>
      </div>
    </div>
  </div>

  <div class="market-card">
    <div class="market-name">Desi to play Rock next</div>
    <div class="market-options">
      <div class="market-option">
        <div class="market-option-label">Yes</div>
        <div class="market-option-odds">EVS</div>
      </div>
      <div class="market-option">
        <div class="market-option-label">No</div>
        <div class="market-option-odds">4/5</div>
      </div>
    </div>
  </div>
</div>

<!-- RESET -->
<div class="reset-area">
  <button class="reset-btn" onclick="resetScores()">Reset Season</button>
</div>

<!-- OVERLAYS -->
<div class="goal-overlay" id="goal-overlay">
  <div class="goal-text" id="goal-text">GOAL!</div>
</div>
<div class="wahey-overlay" id="wahey-overlay">WAHEY!</div>
<canvas id="fireworks-canvas"></canvas>

<script>
  // --- State ---
  let scores = JSON.parse(localStorage.getItem('rps-scores')) || { desi: 0, danny: 0 };

  const elDesi = document.getElementById('score-desi');
  const elDanny = document.getElementById('score-danny');
  const goalOverlay = document.getElementById('goal-overlay');
  const goalText = document.getElementById('goal-text');
  const waheyOverlay = document.getElementById('wahey-overlay');
  const canvas = document.getElementById('fireworks-canvas');
  const ctx = canvas.getContext('2d');

  function render() {
    elDesi.textContent = scores.desi;
    elDanny.textContent = scores.danny;
    updateOdds();
    localStorage.setItem('rps-scores', JSON.stringify(scores));
  }

  function addPoint(player) {
    scores[player]++;
    render();
    triggerCelebration();
  }

  function resetScores() {
    if (confirm('Reset the season? This clears all scores.')) {
      scores = { desi: 0, danny: 0 };
      render();
    }
  }

  // --- Dynamic Odds ---
  function updateOdds() {
    const d = scores.desi, n = scores.danny;
    const diff = d - n;

    const oddsDesEl = document.getElementById('odds-desi');
    const oddsDanEl = document.getElementById('odds-danny');
    const oddsDrawEl = document.getElementById('odds-draw');

    if (diff === 0) {
      oddsDesEl.textContent = 'EVS';
      oddsDanEl.textContent = 'EVS';
      oddsDrawEl.textContent = '3/1';
    } else if (diff > 0) {
      const lead = Math.min(diff, 8);
      const winnerOdds = ['1/2','2/5','1/3','1/4','1/5','1/6','1/8','1/10'];
      const loserOdds = ['6/4','2/1','3/1','4/1','6/1','8/1','12/1','16/1'];
      const drawOdds = ['7/2','4/1','5/1','6/1','8/1','10/1','14/1','20/1'];
      oddsDesEl.textContent = winnerOdds[lead - 1];
      oddsDanEl.textContent = loserOdds[lead - 1];
      oddsDrawEl.textContent = drawOdds[lead - 1];
    } else {
      const lead = Math.min(-diff, 8);
      const winnerOdds = ['1/2','2/5','1/3','1/4','1/5','1/6','1/8','1/10'];
      const loserOdds = ['6/4','2/1','3/1','4/1','6/1','8/1','12/1','16/1'];
      const drawOdds = ['7/2','4/1','5/1','6/1','8/1','10/1','14/1','20/1'];
      oddsDanEl.textContent = winnerOdds[lead - 1];
      oddsDesEl.textContent = loserOdds[lead - 1];
      oddsDrawEl.textContent = drawOdds[lead - 1];
    }
  }

  // --- Celebration ---
  const celebTexts = ['GOAL!', 'BOOM!', 'GET IN!', 'SCENES!'];

  function triggerCelebration() {
    // Goal text
    goalText.textContent = celebTexts[Math.floor(Math.random() * celebTexts.length)];
    goalOverlay.classList.remove('active');
    waheyOverlay.classList.remove('active');
    void goalOverlay.offsetWidth; // reflow
    goalOverlay.classList.add('active');

    // Wahey
    setTimeout(() => {
      waheyOverlay.classList.remove('active');
      void waheyOverlay.offsetWidth;
      waheyOverlay.classList.add('active');
    }, 300);

    // Fireworks
    launchFireworks();

    // Vibrate if available
    if (navigator.vibrate) navigator.vibrate([100, 50, 100]);
  }

  // --- Fireworks ---
  let particles = [];
  let animating = false;

  function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  }
  resizeCanvas();
  window.addEventListener('resize', resizeCanvas);

  function launchFireworks() {
    const colors = ['#c8102e','#ffd700','#ff6b35','#00d4ff','#fff','#ff3366'];
    // Launch 3 bursts
    for (let b = 0; b < 3; b++) {
      setTimeout(() => {
        const cx = canvas.width * (0.2 + Math.random() * 0.6);
        const cy = canvas.height * (0.15 + Math.random() * 0.35);
        const color = colors[Math.floor(Math.random() * colors.length)];
        for (let i = 0; i < 50; i++) {
          const angle = (Math.PI * 2 / 50) * i + (Math.random() - 0.5) * 0.3;
          const speed = 2 + Math.random() * 4;
          particles.push({
            x: cx, y: cy,
            vx: Math.cos(angle) * speed,
            vy: Math.sin(angle) * speed,
            life: 1,
            decay: 0.012 + Math.random() * 0.015,
            color: color,
            size: 2 + Math.random() * 2
          });
        }
      }, b * 250);
    }
    if (!animating) {
      animating = true;
      animateFireworks();
    }
  }

  function animateFireworks() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    for (let i = particles.length - 1; i >= 0; i--) {
      const p = particles[i];
      p.x += p.vx;
      p.y += p.vy;
      p.vy += 0.04; // gravity
      p.life -= p.decay;
      if (p.life <= 0) {
        particles.splice(i, 1);
        continue;
      }
      ctx.globalAlpha = p.life;
      ctx.fillStyle = p.color;
      ctx.beginPath();
      ctx.arc(p.x, p.y, p.size * p.life, 0, Math.PI * 2);
      ctx.fill();
    }
    ctx.globalAlpha = 1;
    if (particles.length > 0) {
      requestAnimationFrame(animateFireworks);
    } else {
      animating = false;
      ctx.clearRect(0, 0, canvas.width, canvas.height);
    }
  }

  // --- Init ---
  render();
</script>
</body>
</html>
